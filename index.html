<!doctype html>
<html lang="en-GB" data-theme="light">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="color-scheme" content="light dark" />
    <title>Gregle</title>
    <meta name="description" content="Simple Webâ€‘1 style homepage with a centred search bar, links, weather, news ticker, and world clocks."/>
    <link rel="icon" href="/favicon/favicon.ico" type="image/x-icon">
    <style>
      :root { --link:#0b57d0; --visited:#5b46a7; --text:#1f2937; --bg:#f7f8fb; --border:#d6d9e0; --accent:#22d3ee; --logo-grad-1:#3b82f6; --logo-grad-2:#06b6d4; --logo-grad-3:#10b981; --logo-grad-4:#0ea5e9; --panel:#ffffff; --panel-alpha:#ffffffd9; --ticker-bg:#ffffff; --label-bg:var(--link); --label-text:#ffffff; --clocks-h:28px; --wx-h:28px; --safe-top:calc(36px + var(--wx-h) + var(--clocks-h) + 16px); --lift:clamp(8px,3vh,48px); }
      [data-theme="dark"]{ --link:#4ade80; --visited:#a7f3d0; --text:#e5e7eb; --bg:#121212; --border:#2a2a2a; --accent:#34d399; --logo-grad-1:#34d399; --logo-grad-2:#10b981; --logo-grad-3:#22d3ee; --logo-grad-4:#2dd4bf; --panel:#1e1e1e; --panel-alpha:#1e1e1ecc; --ticker-bg:#111111; --label-bg:var(--link); --label-text:#ffffff; } html,body{height:100%}
      body{margin:0;background:var(--bg);color:var(--text);font:15px/1.4 "Segoe UI",Arial,Helvetica,sans-serif;min-height:100vh;display:flex;align-items:center;justify-content:center}

      /* Ticker: make 100% opaque, no glass/blur */
      .ticker{position:fixed;top:0;left:0;right:0;background:var(--ticker-bg)!important;border-bottom:1px solid var(--border);overflow:hidden;white-space:nowrap;z-index:1200;height:36px;display:flex;align-items:center;gap:10px;padding:0 10px;backdrop-filter:none!important;-webkit-backdrop-filter:none!important;isolation:isolate}
      .ticker::before{content:"";position:absolute;inset:0 auto 0 0;width:var(--bbc-w,84px);background:var(--ticker-bg);z-index:1;pointer-events:none} 
      /* BBC label pill: solid BBC red; ensure no inherited opacity */
      .ticker label{font-size:11px;margin-right:8px;padding:4px 8px;border-radius:4px;background:var(--label-bg);color:var(--label-text);font-weight:800;line-height:1;white-space:nowrap;position:relative;z-index:2}  
/* extend red background to the right so marquee text can't peek at the rounded edge */

      
.ticker .track{display:inline-block;will-change:transform;animation:marquee 30s linear infinite;position:relative;z-index:0}
      .ticker:hover .track{animation-play-state:paused}
      @media (prefers-reduced-motion: reduce) { .ticker .track { animation: none !important; } }
      .ticker a{color:var(--link);text-decoration:none} 
      .ticker #tickerTrack a:first-of-type{ margin-left:6px; }
      .ticker a:hover{text-decoration:none;color:var(--accent)}
      .ticker a:visited{color:var(--link)}
      .ticker a:visited:hover{text-decoration:none;color:var(--accent)}
      .ticker .dot{opacity:.5}
      @keyframes marquee{0%{transform:translateX(0)}100%{transform:translateX(-50%)}}

      .clocks{position:fixed;top:calc(38px + var(--wx-h) + 8px);left:50%;transform:translateX(-50%);display:flex;align-items:center;gap:6px;padding:2px 6px;background:var(--panel-alpha);border:1px solid var(--border);border-radius:8px;box-shadow:0 2px 5px rgba(0,0,0,0.08);backdrop-filter:blur(4px);z-index:1100;width:fit-content;max-width:calc(100vw - 16px);flex-wrap:wrap;justify-content:center}
      .clocks::-webkit-scrollbar{display:none}
      .clock{display:grid;grid-template-rows:auto auto;align-items:center;padding:2px 4px;border-radius:6px;min-width:64px}
      .clock .city{font-size:10px;opacity:.72}
      .clock .time{font-variant-numeric:tabular-nums;font-weight:600;font-size:13px}
      .sep{opacity:.35;font-size:12px}

      .wrap{width:100%;max-width:700px;padding:24px;text-align:center;position:relative;padding-top:var(--safe-top);transform:translateY(calc(-1 * var(--lift)));z-index:1305} 
      nav{margin:0 0 28px 0}
      nav ul{list-style:none;padding:0;margin:0}
      nav li{display:inline-block;margin:0 6px}
      nav a{color:var(--link);text-decoration:none;font-weight:500;transition:color .2s}
      nav a:hover{color:var(--accent);text-decoration:underline}
      nav a:visited{color:var(--link)}
      nav a:visited:hover{color:var(--accent)}

      .logo{font-size:52px;margin:0 0 22px;font-weight:700;background:linear-gradient(90deg,var(--logo-grad-1),var(--logo-grad-2),var(--logo-grad-3),var(--logo-grad-4));-webkit-background-clip:text;-webkit-text-fill-color:transparent;position:relative;z-index:1306}

      form{margin:0 auto;max-width:600px}
      .search-box{display:flex;align-items:center;border:1px solid var(--border);border-radius:28px;padding:12px 16px;box-shadow:0 3px 6px rgba(0,0,0,.08);background:var(--panel)}
      input[type=search]{flex:1;border:0;outline:none;font-size:16px;padding:6px 8px;background:transparent;color:var(--text)}
      .buttons{margin-top:20px}
      .btn{display:inline-block;font-size:14px;padding:9px 18px;border:1px solid var(--border);border-radius:6px;background:var(--panel);cursor:pointer;transition:background .2s,transform .1s,border-color .2s;color:var(--text)}
      .btn:hover{background:rgba(255,255,255,.05);border-color:var(--link)}
      .btn:active{transform:scale(.97)}

      .weather{position:fixed;top:38px;left:8px;font-size:14px;color:var(--text);border:1px solid var(--border);border-radius:8px;padding:4px 8px;background:var(--panel-alpha);box-shadow:0 2px 5px rgba(0,0,0,0.08);backdrop-filter:blur(4px);z-index:1250;max-width:60vw}
      .weather a{color:inherit;text-decoration:none;display:block}

      .theme-toggle{position:fixed;top:38px;right:8px;border:1px solid var(--border);background:var(--panel-alpha);color:var(--text);border-radius:20px;padding:4px 8px;font-size:13px;cursor:pointer;box-shadow:0 2px 5px rgba(0,0,0,0.08);backdrop-filter:blur(4px);z-index:1250}
      .theme-toggle:hover{border-color:var(--link)}

      footer{margin-top:40px;font-size:13px;color:#5f6368}
      [data-theme=dark] footer{color:#9aa0a6}
      footer span{display:inline-block;margin:0 4px}
      footer a.hidden-link{color:inherit;text-decoration:none;font-weight:500;transition:color .2s}
      footer a.hidden-link:hover{color:var(--accent)}
      footer a.hidden-link:visited{color:inherit}
      footer a.hidden-link:visited:hover{color:var(--accent)}

      .fx{position:fixed;left:8px;bottom:8px;border:1px solid var(--border);background:var(--panel-alpha);color:var(--text);border-radius:8px;padding:6px 8px;font-size:13px;box-shadow:0 2px 5px rgba(0,0,0,0.08);backdrop-filter:blur(4px);z-index:900;white-space:nowrap;text-decoration:none;display:inline-block}
      .fx:hover{border-color:var(--link)}
      .fx:visited{color:var(--text)}

      .quick-links{position:fixed;right:8px;bottom:8px;z-index:950}
      .ql-btn{border:1px solid var(--border);background:var(--panel-alpha);color:var(--text);border-radius:8px;padding:6px 10px;font-size:13px;cursor:pointer;box-shadow:0 2px 5px rgba(0,0,0,0.08);backdrop-filter:blur(4px)}
      .ql-menu{position:absolute;right:0;left:auto;bottom:calc(100% + 6px);display:flex;flex-direction:column;gap:6px;align-items:flex-end;text-align:right;background:var(--panel-alpha);border:1px solid var(--border);border-radius:8px;padding:8px;box-shadow:0 6px 14px rgba(0,0,0,0.12);opacity:0;visibility:hidden;transform:translateY(6px);transition:opacity .15s ease,transform .15s ease,visibility .15s ease;min-width:180px}
      .ql-menu a{color:var(--link);text-decoration:none;font-weight:500}
      .ql-menu a:hover{text-decoration:none;color:var(--accent)}
      .ql-menu a:visited{color:var(--link)}
      .ql-menu a:visited:hover{text-decoration:none;color:var(--accent)}
      .quick-links:hover .ql-menu, .quick-links:focus-within .ql-menu{opacity:1;visibility:visible;transform:translateY(0)}

      @media (max-width:700px){.clocks{gap:4px;padding:2px 4px}.clock{padding:1px 3px;min-width:60px}.clock .city{font-size:10px}}
      @media (max-width:560px){.clocks{gap:2px;padding:1px 3px}.clock{padding:1px 2px;min-width:54px}.clock .city{font-size:9px}.clock .time{font-size:12px}.sep{display:none}}
      @media (max-width:400px){.clock{min-width:48px}.clock .city{font-size:8.5px}.clock .time{font-size:12px}}
    </style>
  </head>
  <body>
    <!-- Weather and theme toggle -->
    <div class="weather" id="weather"><a href="#" target="_blank" rel="noopener noreferrer">Loading weather...</a></div>
    <button id="themeToggle" class="theme-toggle" aria-pressed="false" title="Toggle dark mode">ðŸŒ™ Dark</button>

    <!-- BBC news ticker -->
    <div class="ticker" role="region" aria-label="BBC News ticker">
      <label>BBC</label>
      <div class="track" id="tickerTrack"></div>
      <div class="track" aria-hidden="true" id="tickerTrackClone"></div>
    </div>

    <!-- World clocks -->
    <div class="clocks" id="clocks" role="group" aria-label="World clocks"></div>

    <main class="wrap" role="main">
      <nav aria-label="Primary">
        <ul>
          <li><a href="https://google.co.uk" rel="noopener noreferrer">Search</a></li>
          <li><a href="https://news.ycombinator.com/" rel="noopener noreferrer">News</a></li>
          <li><a href="https://chatgpt.com/" rel="noopener noreferrer">GPT</a></li>
          <li><a href="https://music.apple.com/gb/home" rel="noopener noreferrer">Music</a></li>
          <li><a href="https://maps.apple.com/" rel="noopener noreferrer">Maps</a></li>
          <li><a href="https://cloud.gsuth.uk/" rel="noopener noreferrer">Cloud</a></li>
          <li><a href="https://42.gsuth.uk/" rel="noopener noreferrer">42</a></li>
          <li><a href="https://mail.proton.me/u/6/inbox" rel="noopener noreferrer">Mail</a></li>
        </ul>
      </nav>

      <h1 class="logo"><a href="https://gregle.de">Gregle</a></h1>

      <form action="https://search.brave.com/search" method="get" role="search" autocomplete="off">
        <div class="search-box">
          <input type="search" name="q" placeholder="Search the web" aria-label="Search" autofocus />
        </div>
        <div class="buttons">
          <button class="btn" type="submit" title="Search on Brave">Search with Brave</button>
          <button class="btn" type="button" id="btnSearx" title="Search on Gregle (gregle.de)">Search with Gregle</button>
        </div>
      </form>

      <footer>
        <span>Simple homepage</span> â€¢
        <span>No tracking</span> â€¢
        <a class="hidden-link" href="https://gsuth.uk" rel="noopener noreferrer">gsuth.uk</a>
      </footer>
    </main>

    <!-- Quick Links -->
    <div class="quick-links" id="quickLinks">
      <button class="ql-btn" aria-haspopup="true" aria-expanded="false" title="Open quick links">Quick Links â–´</button>
      <div class="ql-menu" role="menu">
        <a href="https://www.feynmanlectures.caltech.edu/" target="_blank" rel="noopener noreferrer" role="menuitem">FLP</a>
        <a href="https://annas-archive.li/" target="_blank" rel="noopener noreferrer" role="menuitem">Annas Archive</a>
        <a href="https://arxiv.org/" target="_blank" rel="noopener noreferrer" role="menuitem">arxiv</a>
        <a href="https://xkcd.com/" target="_blank" rel="noopener noreferrer" role="menuitem">xkcd</a>
        <a href="https://excalidraw.com/" target="_blank" rel="noopener noreferrer" role="menuitem">Draw</a>
        <a href="https://youtube.com/" target="_blank" rel="noopener noreferrer" role="menuitem">YT</a>
        <a href="https://www.icloud.com/" target="_blank" rel="noopener noreferrer" role="menuitem">iCloud</a>
        <a href="https://overleaf.com/" target="_blank" rel="noopener noreferrer" role="menuitem">Overleaf</a>
        <a href="https://amprad.io/" target="_blank" rel="noopener noreferrer" role="menuitem">Radio</a>
        <a href="https://cocalc.com/auth/sign-in" target="_blank" rel="noopener noreferrer" role="menuitem">CoCalc</a>
        <a href="https://www.spaceweather.com/" target="_blank" rel="noopener noreferrer" role="menuitem">SpaceWeather</a>
        <a href="https://gregsuther.land/" target="_blank" rel="noopener noreferrer" role="menuitem">Home</a>
        <a href="https://gsuth.uk" target="_blank" rel="noopener noreferrer" role="menuitem">Contact</a>        
        <a href="https://portal.gregle.de/" target="_blank" rel="noopener noreferrer" role="menuitem">Login</a>
      </div>
    </div>

    <!-- GBP â†’ CAD rate -->
    <a class="fx" id="gbpcad" href="https://www.google.com/search?q=1+GBP+to+CAD" target="_blank" rel="noopener noreferrer" aria-live="polite" title="GBP to CAD exchange rate">Â£1 = C$â€¦</a>

    <script>
      // ---- Utility: safe set CSS var after layout ----
      function updateLayoutVars(){
        const wrap = document.getElementById('clocks');
        const h = wrap ? (wrap.offsetHeight || 28) : 28;
        document.documentElement.style.setProperty('--clocks-h', h + 'px');
        const wx = document.getElementById('weather');
        const wxh = wx ? (wx.offsetHeight || 28) : 28;
        document.documentElement.style.setProperty('--wx-h', wxh + 'px');
      }

      // --- Weather via MET Norway with geolocation; click â†’ yr.no detailed report ---
      async function getCoords(){
        return new Promise((resolve) => {
          if(!('geolocation' in navigator)) return resolve(null);
          navigator.geolocation.getCurrentPosition(
            pos => resolve({ lat: pos.coords.latitude, lon: pos.coords.longitude }),
            () => resolve(null),
            { enableHighAccuracy:true, timeout:8000, maximumAge:5*60*1000 }
          );
        });
      }
      async function reverseGeocode(lat, lon){
        const pick = (g)=>{
          if(!g) return null;
          const name = g.city || g.town || g.village || g.locality || g.hamlet || g.suburb || g.neighbourhood || g.municipality || g.name || g.admin2 || g.admin1;
          return (typeof name === 'string' && name.trim()) ? name.trim() : null;
        };
        // 1) Try Openâ€‘Meteo reverse geocoding
        try{
          const r = await fetch(`https://geocoding-api.open-meteo.com/v1/reverse?latitude=${lat}&longitude=${lon}&language=en`);
          const j = await r.json();
          const place = pick(j?.results?.[0]);
          if(place) return place;
        }catch{}
        // 2) Fallback: BigDataCloud (no key, CORS-friendly)
        try{
          const r2 = await fetch(`https://api.bigdatacloud.net/data/reverse-geocode-client?latitude=${lat}&longitude=${lon}&localityLanguage=en`);
          const j2 = await r2.json();
          const place2 = j2.city || j2.locality || (j2.localityInfo && j2.localityInfo.locality && j2.localityInfo.locality.name) || j2.principalSubdivision;
          if(typeof place2 === 'string' && place2.trim()) return place2.trim();
        }catch{}
        // 3) Final fallback: human-friendly default (never show raw coords)
        return 'Victoria';
      }
      function symbolToEmoji(code){
        if(!code) return 'â˜€ï¸';
        const c = String(code);
        if(c.includes('thunder')) return 'â›ˆï¸';
        if(c.includes('snow')) return 'â„ï¸';
        if(c.includes('sleet')) return 'ðŸŒ¨ï¸';
        if(c.includes('rain')) return 'ðŸŒ§ï¸';
        if(c.includes('fog')) return 'ðŸŒ«ï¸';
        if(c.includes('cloud')) return 'â˜ï¸';
        return 'â˜€ï¸';
      }
      async function loadWeather(){
        const el = document.querySelector('#weather a');
        try{
          let coords = await getCoords();
          let usedFallback = false;
          if(!coords){ coords = { lat: 48.4284, lon: -123.3656 }; usedFallback = true; }
          const { lat, lon } = coords;
          const url = `https://api.met.no/weatherapi/locationforecast/2.0/compact?lat=${lat}&lon=${lon}`;
          const r = await fetch(url, { headers:{'Accept':'application/json'} });
          const j = await r.json();
          const ts = j?.properties?.timeseries?.[0];
          const inst = ts?.data?.instant?.details || {};
          const next = ts?.data?.next_1_hours || ts?.data?.next_6_hours || null;
          const sym = next?.summary?.symbol_code || '';
          const T = Math.round(Number(inst.air_temperature));
          const emoji = symbolToEmoji(sym);
          const label = usedFallback ? 'Victoria' : await reverseGeocode(lat, lon);
          // City-only label in UI
          el.textContent = `${emoji} ${label}: ${isFinite(T)?T:'â€”'}Â°C`;
          el.href = `https://www.yr.no/en/forecast/daily-table/${lat.toFixed(4)},${lon.toFixed(4)}`;
          el.title = `Open detailed weather report for ${label}`;
        }catch(e){
          const el = document.querySelector('#weather a');
          el.textContent = 'Weather unavailable.';
          el.removeAttribute('href');
        }finally{
          requestAnimationFrame(updateLayoutVars);
        }
      }
      loadWeather();

      // --- BBC News Ticker (RSS) ---
      async function loadTicker(){
        const feed = 'https://feeds.bbci.co.uk/news/rss.xml';
        const proxied = 'https://api.allorigins.win/raw?url=' + encodeURIComponent(feed);
        const fallback = 'https://r.jina.ai/http://feeds.bbci.co.uk/news/rss.xml';
        try {
          const r = await fetch(proxied);
          if (!r.ok) throw new Error('proxy failed');
          buildTicker(await r.text());
        } catch (e) {
          try {
            const r2 = await fetch(fallback);
            buildTicker(await r2.text());
          } catch {
            document.getElementById('tickerTrack').textContent = 'BBC headlines unavailable.';
          }
        }
      }
      function buildTicker(xmlText){
        const doc = new DOMParser().parseFromString(xmlText, 'text/xml');
        const items = Array.from(doc.querySelectorAll('item')).slice(0,12);
        const frag = document.createDocumentFragment();
        items.forEach((it,i)=>{
          const a = document.createElement('a');
          a.href = it.querySelector('link')?.textContent || '#';
          a.textContent = it.querySelector('title')?.textContent || 'Untitled';
          a.target = '_blank'; a.rel = 'noopener noreferrer';
          frag.appendChild(a);
          if (i !== items.length - 1) { const dot = document.createElement('span'); dot.className = 'dot'; dot.textContent = ' â€¢ '; frag.appendChild(dot); }
        });
        const track = document.getElementById('tickerTrack');
        track.innerHTML = ''; track.appendChild(frag);
        const clone = document.getElementById('tickerTrackClone');
        clone.innerHTML = track.innerHTML;
        const w = track.scrollWidth; const dur = Math.max(20, Math.min(60, Math.round(w / 60)));
        track.style.animationDuration = dur + 's';
        clone.style.animationDuration = dur + 's';
      }
      loadTicker();

      // --- BBC label mask: prevent marquee text under the badge without changing markup ---
      function bbcMaskInit(){
        const label = document.querySelector('.ticker label');
        if(!label) return;
        const gap = 4; // tighter mask so headlines sit closer to the badge
        const w = label.offsetWidth + gap;
        document.documentElement.style.setProperty('--bbc-w', w + 'px');
      }
      bbcMaskInit();
      window.addEventListener('resize', bbcMaskInit);

      // --- World clocks (24h, no seconds) ---
      const zones=[{label:'UTC',tz:'UTC'},{label:'London',tz:'Europe/London'},{label:'Berlin',tz:'Europe/Berlin'},{label:'Vancouver',tz:'America/Vancouver'},{label:'SÃ£o Paulo',tz:'America/Sao_Paulo'}];
      function renderClocks(){
        const wrap=document.getElementById('clocks'); if (!wrap) return; wrap.innerHTML='';
        const w=window.innerWidth; let list=zones.slice(); if(w<=640) list=list.filter(z=>z.label!=='Berlin'&&z.label!=='SÃ£o Paulo');
        list.forEach((z,i)=>{
          const time=new Intl.DateTimeFormat('en-GB',{hour:'2-digit',minute:'2-digit',hour12:false,timeZone:z.tz}).format(new Date());
          const item=document.createElement('div'); item.className='clock'; item.setAttribute('data-city',z.label);
          const city=document.createElement('div'); city.className='city'; city.textContent=z.label;
          const t=document.createElement('div'); t.className='time'; t.textContent=time;
          item.appendChild(city); item.appendChild(t); wrap.appendChild(item);
          if(i!==list.length-1){ const sep=document.createElement('span'); sep.className='sep'; sep.textContent='â€¢'; wrap.appendChild(sep); }
        });
        updateLayoutVars();
      }
      function scheduleClockUpdates(){
        renderClocks(); const now=new Date(); const msToNextMinute=(60-now.getSeconds())*1000-now.getMilliseconds();
        setTimeout(()=>{ renderClocks(); setInterval(renderClocks,60000); }, Math.max(500, msToNextMinute));
      }
      scheduleClockUpdates(); window.addEventListener('resize', renderClocks);

      // --- GBP -> CAD (exchangerate.host primary; ECB fallback) ---
      async function loadFX(){
        const el=document.getElementById('gbpcad'); if(!el) return;
        const set=(rate,meta)=>{ const n=Number(rate); if(!isFinite(n)) return false; el.textContent=`Â£1 = C$${n.toFixed(4)}`; el.title=meta; return true; };
        try{ const r=await fetch('https://api.exchangerate.host/convert?from=GBP&to=CAD'); const j=await r.json(); const rate=j?.result ?? j?.info?.rate; if(set(rate,`exchangerate.host Â· ${j?.date||'latest'}`)) return; throw new Error('primary failed'); }
        catch{ try{ const r3=await fetch('https://api.frankfurter.app/latest?from=GBP&to=CAD'); const j3=await r3.json(); if(set(j3?.rates?.CAD,`ECB via Frankfurter Â· ${j3?.date}`)) return; throw new Error('fallback failed'); } catch { el.textContent='Â£1 = C$â€”'; el.title='FX unavailable'; } }
      }
      loadFX(); setInterval(loadFX, 15*60*1000);

      // --- Quick Links aria state ---
      (function(){ const ql=document.getElementById('quickLinks'); if(!ql) return; const btn=ql.querySelector('.ql-btn'); const open=()=>btn&&btn.setAttribute('aria-expanded','true'); const close=()=>btn&&btn.setAttribute('aria-expanded','false'); ql.addEventListener('mouseenter',open); ql.addEventListener('mouseleave',close); ql.addEventListener('focusin',open); ql.addEventListener('focusout',e=>{ if(!ql.contains(e.relatedTarget)) close(); }); })();

      // --- Theme toggle with persistence + system preference ---
      (function(){ const root=document.documentElement; const btn=document.getElementById('themeToggle'); const saved=localStorage.getItem('gregle-theme'); const prefersDark=window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches; const initial=saved||(prefersDark?'dark':'light'); root.setAttribute('data-theme',initial); update(initial); btn.addEventListener('click',()=>{ const cur=root.getAttribute('data-theme'); const next=cur==='dark'?'light':'dark'; root.setAttribute('data-theme',next); localStorage.setItem('gregle-theme',next); update(next); }); function update(mode){ if(mode==='dark'){ btn.innerText='â˜€ï¸ Light'; btn.setAttribute('aria-pressed','true'); } else { btn.innerText='ðŸŒ™ Dark'; btn.setAttribute('aria-pressed','false'); } } })();

      // --- SearXNG button (gregle.de) ---
      (function(){ const btn=document.getElementById('btnSearx'); if(!btn) return; const q=document.querySelector('form input[type=\"search\"]'); btn.addEventListener('click',()=>{ const s=(q?.value||'').trim(); if(!s){ q?.focus(); return; } window.location.href='https://gregle.de/search?q='+encodeURIComponent(s); }); })();
    </script>
  </body>
</html>
